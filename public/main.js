import{j as d,r as s,L as r,B as S,R as b,a as l,O as j,b as N,c as C}from"./chunks/vendor.js";const e=d.exports.jsx,t=d.exports.jsxs,m=d.exports.Fragment;function h(n){return e("div",{className:`card ${n.className}`,children:n.children})}function P(){return t(h,{className:"home-container",children:[e("h1",{children:"Duit"}),e("h3",{children:"Track your job applications easily"})]})}function E(){return s.exports.useEffect(()=>{L()}),e("main",{children:"Applications"})}async function L(){let n=await fetch("/api/applications");console.log(await n.json())}function R(){return e("main",{children:"Profile"})}function c(n){return t("div",{className:"formfield",children:[e("label",{htmlFor:n.name,children:n.label}),e("input",{id:n.name,type:n.type,onChange:i=>n.onValueChange(i.target.value)})]})}function u(n){return e("button",{className:"formbutton",onClick:n.onClickHandler,children:n.name})}function g(){return t(h,{className:"login-container",children:[e("h1",{children:"Login"}),e(c,{name:"email",label:"Email",type:"email"}),e(c,{name:"password",label:"Password",type:"password"}),e(u,{name:"Login"})]})}function k(){const[n,i]=s.exports.useState(!1),[o,p]=s.exports.useState(""),[f,v]=s.exports.useState(""),[w,x]=s.exports.useState("");s.exports.useEffect(()=>{});async function y(){let a=await fetch("/api/user",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({email:f,password:w})});a=await a.json(),console.log(a),i(!!a._id),p(a.msg?a.msg:""),setInterval(()=>{i(!1),p("")},5e3)}return t(h,{className:"signup-container",children:[e("h1",{children:"Sign Up"}),n?e("h3",{children:o}):t(m,{children:[e(c,{name:"email",label:"Email",type:"email",onValueChange:a=>{v(a)}}),e(c,{name:"password",label:"Password",type:"password",onValueChange:a=>{x(a)}}),e(u,{name:"Sign Up",onClickHandler:y})]})]})}function F(){return t("div",{className:"header",children:[e("div",{className:"left",children:"Duit"}),t("nav",{className:"right",children:[e(r,{to:"/",children:e("span",{children:"Home"})}),e(r,{to:"/applications",children:e("span",{children:"Applications"})}),e(r,{to:"/profile",children:e("span",{children:"Profile"})}),e(r,{to:"/signup",children:e("span",{children:"Sign Up"})}),e(r,{to:"/login",children:e("span",{children:"Login"})})]})]})}function I(){const[n,i]=s.exports.useState(!1);return s.exports.useEffect(()=>{U().then(o=>{console.log(o),i(o)})},[]),t(m,{children:[t(S,{children:[e(F,{}),t(b,{children:[e(l,{path:"/",element:e(P,{})}),e(l,{path:"/applications",element:n?e(E,{}):e(g,{})}),e(l,{path:"/profile",element:e(R,{})}),e(l,{path:"/login",element:e(g,{})}),e(l,{path:"/signup",element:e(k,{})})]})]}),e("main",{children:e(j,{})})]})}async function U(){let i=await(await fetch("/loggedIn")).json();return console.log(i),Promise.resolve(i.status)}N.render(e(C.StrictMode,{children:e(I,{})}),document.getElementById("duit-app"));
